#!/usr/bin/env bash

lncli-alice(){
    builtin cd $LNPATH/dev/alice;
    lncli --rpcserver=localhost:10001 --macaroonpath=data/chain/bitcoin/simnet/admin.macaroon $*
    builtin cd - > /dev/null # return to previous directory
}
export -f lncli-alice

lncli-bob(){
    builtin cd $LNPATH/dev/bob;
    lncli --rpcserver=localhost:10002 --macaroonpath=data/chain/bitcoin/simnet/admin.macaroon $*
    builtin cd - > /dev/null
}
export -f lncli-bob

lncli-charlie(){
    builtin cd $LNPATH/dev/charlie;
    lncli --rpcserver=localhost:10003 --macaroonpath=data/chain/bitcoin/simnet/admin.macaroon $*
    builtin cd - > /dev/null
}
export -f lncli-charlie

getblockbyindex(){
    idx=$1
    file="block_${idx}_hash.tmp"
    btcctl --simnet --rpcuser=kek --rpcpass=kek getblockhash $idx > file
    btcctl --simnet --rpcuser=kek --rpcpass=kek getblock $(cat file)
}
export -f getblockbyindex

